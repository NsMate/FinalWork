<div mat-dialog-title>
    <h1 style="text-align: center;"> Felhasználó beállítása </h1>
</div>
  
<div mat-dialog-content>
  <form [formGroup]="userForm">
      <div>
        <h2> Felhasználónév </h2>
        <mat-form-field appearance="standard">
          <input matInput placeholder="eg. nagyAdam" [(ngModel)]="data.employee.appUser.appUserName" name="userName" formControlName="userName">
        </mat-form-field>
      </div>

      <div>
        <h2> Jelszó </h2>
        <mat-form-field appearance="standard"> 
          <input matInput [(ngModel)]="data.employee.appUser.appUserPassword" name="userPassword" formControlName="userPassword">
        </mat-form-field>
      </div>

      <div *ngIf="data.employee.appUser.id == null">
        <h2> Jelszó mégegyszer</h2>
        <mat-form-field appearance="standard"> 
          <input matInput [(ngModel)]="passwordAgain" name="userPasswordAgain" formControlName="userPasswordAgain">
        </mat-form-field>
      </div>
      
      <div>
        <h2> Jogkör </h2>
        <mat-form-field appearance="standard">
          <mat-select [(ngModel)]="data.employee.appUser.appUserGroup" formControlName="userRole">
            <mat-option value="ROLE_ADMIN"> Admin </mat-option>
            <mat-option value="ROLE_LOGISTICS"> Logisztika </mat-option>
            <mat-option value="ROLE_FINANCE"> Pénzügyi </mat-option>
            <mat-option value="ROLE_WORKER"> Munkás </mat-option>
          </mat-select>                
          <mat-error *ngIf="userRole.errors?.required && (userRole.dirty || userRole.touched)"> Adjon meg jogkört! </mat-error>
        </mat-form-field>
      </div>

    </form>
  </div>
  
  <div mat-dialog-action style="display: flex; justify-content: space-evenly;">
    <button mat-raised-button  [disabled]="userForm.invalid" (click)="saveUser()" color="primary"><mat-icon>save</mat-icon>Mentés</button>
  
    <button mat-raised-button color="warn" *ngIf="data.employee.appUser.id != null" (click)="openConfDialog()"><mat-icon>delete</mat-icon>Törlés</button>
  </div>